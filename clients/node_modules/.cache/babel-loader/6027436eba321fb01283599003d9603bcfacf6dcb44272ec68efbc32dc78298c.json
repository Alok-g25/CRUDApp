{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function EditUser(){const[data,setData]=useState({name:\"\",email:\"\",age:\"\",mobile:\"\",work:\"\",address:\"\",description:\"\"});const{id}=useParams();const navigate=useNavigate();function handleData(e){const{name,value}=e.target;setData(preData=>{return{...preData,[name]:value};});}async function getData(){const res=await fetch(\"/getuser/\".concat(id),{method:\"GET\",headers:{\"content-type\":\"application/json\"}});const myData=await res.json();if(res.status===500||res.status===404||!myData){alert(\"error\");console.log(\"something error\");}else{setData(myData.data);//  console.log(\"data get successfully\")\n}}useEffect(()=>{getData();},[]);async function updateData(e){e.preventDefault();const{name,email,mobile,age,work,address,description}=data;const res=await fetch(\"/updateuser/\".concat(id),{method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify({name,email,mobile,age,work,address,description})});const myData2=await res.json();if(res.status===500||res.status===404||!myData2){alert(\"error\");// console.log(\"something error\")\n}else{alert(\"data update successfully\");navigate(\"/\");}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center bg-black text-light p-2\",children:\"Edit User\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:data.name,type:\"text\",onChange:handleData,name:\"name\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{value:data.email,type:\"email\",onChange:handleData,name:\"email\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{value:data.age,type:\"text\",onChange:handleData,name:\"age\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Mobile\"}),/*#__PURE__*/_jsx(\"input\",{value:data.mobile,type:\"text\",onChange:handleData,name:\"mobile\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Work\"}),/*#__PURE__*/_jsx(\"input\",{value:data.work,type:\"text\",onChange:handleData,name:\"work\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{value:data.address,type:\"text\",onChange:handleData,name:\"address\",className:\"form-control\",id:\"exampleFormControlInput1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-1 col-md-12\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleFormControlInput1\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:data.description,name:\"description\",onChange:handleData,className:\"form-control\",rows:3,id:\"exampleFormControlInput1\"})]})]}),/*#__PURE__*/_jsx(Link,{onClick:updateData,className:\"btn mt-2 btn-primary w-100\",children:\"Submit\"})]})]})});}export default EditUser;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditUser","data","setData","name","email","age","mobile","work","address","description","id","navigate","handleData","e","value","target","preData","getData","res","fetch","concat","method","headers","myData","json","status","alert","console","log","updateData","preventDefault","body","JSON","stringify","myData2","children","className","to","htmlFor","type","onChange","rows","onClick"],"sources":["/home/alok/Desktop/MERN_Project/CRUD_app/CRUDApp/clients/src/compoents/EditUser.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\n\nfunction EditUser() {\n  const [data, setData] = useState({\n    name: \"\",\n    email: \"\",\n    age: \"\",\n    mobile: \"\",\n    work: \"\",\n    address: \"\",\n    description: \"\",\n  });\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  function handleData(e) {\n    const { name, value } = e.target;\n    setData((preData) => {\n      return { ...preData, [name]: value };\n    });\n  }\n\n  async function getData() {\n    const res = await fetch(`/getuser/${id}`, {\n      method: \"GET\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n    });\n\n    const myData = await res.json();\n    if (res.status === 500 || res.status === 404 || !myData) {\n      alert(\"error\");\n      console.log(\"something error\");\n    } else {\n      setData(myData.data);\n      //  console.log(\"data get successfully\")\n    }\n  }\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  async function updateData(e) {\n    e.preventDefault();\n    const { name, email, mobile, age, work, address, description } = data;\n    const res = await fetch(`/updateuser/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name,\n        email,\n        mobile,\n        age,\n        work,\n        address,\n        description,\n      }),\n    });\n\n    const myData2 = await res.json();\n    if (res.status === 500 || res.status === 404 || !myData2) {\n      alert(\"error\");\n      // console.log(\"something error\")\n    } else {\n      alert(\"data update successfully\");\n      navigate(\"/\");\n    }\n  }\n\n\n  return (\n    <>\n      <div className=\"container mt-4\">\n        <Link to=\"/\">Home</Link>\n\n        <h3 className=\"text-center bg-black text-light p-2\">Edit User</h3>\n\n        <form>\n          <div className=\"row d-flex mt-3\">\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Name\n              </label>\n              <input\n                value={data.name}\n                type=\"text\"\n                onChange={handleData}\n                name=\"name\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Email\n              </label>\n              <input\n                value={data.email}\n                type=\"email\"\n                onChange={handleData}\n                name=\"email\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Age\n              </label>\n              <input\n                value={data.age}\n                type=\"text\"\n                onChange={handleData}\n                name=\"age\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Mobile\n              </label>\n              <input\n                value={data.mobile}\n                type=\"text\"\n                onChange={handleData}\n                name=\"mobile\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Work\n              </label>\n              <input\n                value={data.work}\n                type=\"text\"\n                onChange={handleData}\n                name=\"work\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-6\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Address\n              </label>\n              <input\n                value={data.address}\n                type=\"text\"\n                onChange={handleData}\n                name=\"address\"\n                className=\"form-control\"\n                id=\"exampleFormControlInput1\"\n              />\n            </div>\n            <div className=\"mb-1 col-md-12\">\n              <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">\n                Description\n              </label>\n              <textarea\n                value={data.description}\n                name=\"description\"\n                onChange={handleData}\n                className=\"form-control\"\n                rows={3}\n                id=\"exampleFormControlInput1\"\n              ></textarea>\n            </div>\n          </div>\n          <Link onClick={updateData} className=\"btn mt-2 btn-primary w-100\">\n            Submit\n          </Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default EditUser;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}